
# Hyprland Configuration File - i3wm Style
# | | | |_   _ _ __  _ __| | __ _ _ __   __| | 
# | |_| | | | | '_ \| '__| |/ _` | '_ \ / _` | 
# |  _  | |_| | |_) | |  | | (_| | | | | (_| | 
# |_| |_|\__, | .__/|_|  |_|\__,_|_| |_|\__,_| 
#        |___/|_|                                
# ----------------------------------------------------- 
# Monitor
# ----------------------------------------------------- 
monitor = ,1920x1080@60,auto,1

# Execute commands once on startup
exec-once = $scrPath/resetxdgportal.sh
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = $scrPath/polkitkdeauth.sh
exec-once = blueman-applet
exec-once = udiskie --no-automount --smart-tray
exec-once = nm-applet --indicator
exec-once = dunst
exec-once = waybar
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = $scrPath/swwwallpaper.sh
exec-once = $scrPath/batterynotify.sh

# Environment variables
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = QT_QPA_PLATFORMTHEME,qt6ct
env = PATH,$PATH:$scrPath
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = MOZ_ENABLE_WAYLAND,1
env = GDK_SCALE,1
env = GTK_THEME,Adwaita:dark
env = XCURSOR_SIZE,20
env = HYPRCURSOR_THEME,MyCursor

# Input configuration
input {
    kb_layout = us
    mouse_refocus = true
    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 1.5
    force_no_accel = 1
    numlock_by_default = true
}

# Device configuration
device {
    name = epic mouse V1
    sensitivity = -0.5
}

# Gestures configuration
gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
}

# General settings - i3wm style (no gaps, minimal borders)
general {
    gaps_in = 0
    gaps_out = 0
    border_size = 1
    col.active_border = rgba(4c7899ff)
    col.inactive_border = rgba(333333ff)
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}

# Decoration - i3wm style (no blur, no shadows, no rounding)
decoration {
    rounding = 0
    active_opacity = 1.0
    inactive_opacity = 1.0
    
    # drop_shadow = false
    # shadow_range = 0
    # shadow_render_power = 0
    
    blur {
        enabled = false
    }
}

# Animations - disabled for i3wm feel
animations {
    enabled = false
}

# Dwindle layout configuration - i3wm style
dwindle {
    pseudotile = yes
    preserve_split = yes
    smart_split = false
    smart_resizing = false
}

# Master layout configuration
master {
    new_status = master
}

# Miscellaneous settings - i3wm style
misc {
    vrr = 0
    disable_hyprland_logo = true
    disable_splash_rendering = true
    force_default_wallpaper = 0
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    enable_swallow = false
    swallow_regex = ^(kitty)$
}

# XWayland settings
xwayland {
    force_zero_scaling = true
}

# Window rules - NO transparency/opacity (i3wm style)
# All opacity rules removed for clean i3wm look

# Floating window rules (keeping functional ones)
windowrulev2 = float,class:^(firefox)$,title:^(Library)$
windowrulev2 = float,class:^(kitty)$,title:^(top)$
windowrulev2 = float,class:^(kitty)$,title:^(btop)$
windowrulev2 = float,class:^(kitty)$,title:^(htop)$
windowrulev2 = float,class:^(kvantummanager)$
windowrulev2 = float,class:^(qt5ct)$
windowrulev2 = float,class:^(qt6ct)$
windowrulev2 = float,class:^(nwg-look)$
windowrulev2 = float,class:^(org.kde.ark)$
windowrulev2 = float,class:^(blueman-manager)$
windowrulev2 = float,class:^(nm-applet)$
windowrulev2 = float,class:^(nm-connection-editor)$

# Common modals
windowrule = float,title:^(Open)$
windowrule = float,title:^(Choose Files)$
windowrule = float,title:^(Save As)$
windowrule = float,title:^(Confirm to replace files)$
windowrule = float,title:^(File Operation Progress)$
windowrulev2 = float,class:^(xdg-desktop-portal-gtk)$

# Layer rules - NO blur effects for i3wm styl

# Key bindings (UNCHANGED as requested)
$mainMod = SUPER

# Applications
bind = $mainMod, RETURN, exec, kitty
bind = $mainMod, T, exec, kitty
bind = $mainMod, U, exec, kitty -e nmtui
bind = $mainMod, E, exec, thunar
bind = $mainMod SHIFT, E, exec,  thunar /
bind = $mainMod, C, exec, code
bind = $mainMod, B, exec, firefox
bind = $mainMod, N, exec, firefox-developer-edition
bind = $mainMod, A, exec, elisa
$moveactivewindow=grep -q "true" <<< $(hyprctl activewindow -j | jq -r .floating) && hyprctl dispatch moveactive

# Configs
bind = $mainMod SHIFT, Z, exec, kitty -e nvim ~/.config/hypr/hyprland.conf
bind = $mainMod SHIFT, X, exec, kitty -e nvim ~/.config/waybar/style.css
bind = $mainMod SHIFT, X, exec, kitty -e nvim ~/.config/waybar/config
bind = $mainMod SHIFT, V, exec, kitty -e nvim ~/.config/waybar/modules.json
bind = $mainMod SHIFT, 0, exec, brightnessctl -q s 0%
bind = ALT, 0, exec, pactl set-sink-volume @DEFAULT_SINK@ 0%
bind = CTRL, 5, exec, pactl set-sink-volume @DEFAULT_SINK@ 50%
bind = ALT, Tab, workspace, previous

# Windows
bind = $mainMod, Q, killactive
bind = $mainMod, F, fullscreen, 1
bind = $mainMod SHIFT, F, fullscreen
bind = $mainMod, R, togglefloating
bind = $mainMod, G, togglesplit
bind = $mainMod, left, movewindow, l
bind = $mainMod, right, movewindow, r
bind = $mainMod, up, movewindow, u
bind = $mainMod, down, movewindow, d
bind = $mainMod, H, movewindow, l
bind = $mainMod, L, movewindow, r
bind = $mainMod, K, movewindow, u
bind = $mainMod, J, movewindow, d
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bindm = $mainMod, Z, movewindow
bindm = $mainMod, X, resizewindow
bindm = $mainMod, W,  togglefloating

# Workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod CTRL, left, workspace, r-1
bind = $mainMod CTRL, right, workspace, r+1
bind = $mainMod CTRL, down, workspace, empty
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod, mouse_down, workspace, r+1
bind = $mainMod, mouse_up, workspace, r-1
bind = $mainMod SHIFT, mouse_down, movetoworkspace, r+1
bind = $mainMod SHIFT, mouse_up, movetoworkspace, r-1

# Resize windows
bind = $mainMod+Shift, Right, resizeactive, 90 0
bind = $mainMod+Shift, Left, resizeactive, -90 0
bind = $mainMod+Shift, Up, resizeactive, 0 -90
bind = $mainMod+Shift, Down, resizeactive, 0 90

# Actions
bind = $mainMod, D, exec, rofi -disable-history -drun-match-fields name -show drun -theme-s
bind = $mainMod SHIFT, B, exec, pkill waybar && waybar
bind = $mainMod SHIFT, N, exec, hyprctl reload
bind = $mainMod SHIFT, Q, exec, wlogout
bind = $mainMod, P, exec, hyprlock
bind = $mainMod, I, exec, brightnessctl -q s 10%-
bind = $mainMod, O, exec, brightnessctl -q s +10%

bind = $mainMod+Alt, S, movetoworkspacesilent, special
bind = $mainMod, S, togglespecialworkspace, special
bind = $mainMod, Tab, togglespecialworkspace, special
bind = $mainMod, Print, exec, bash -c 'grim -g "$(slurp)" /tmp/screenshot.png && notify-send "Screenshot Captured"'
bind = $mainMod SHIFT, S, exec, bash -c 'f="$HOME/Pictures/screenshot-$(date +%Y-%m-%d--%H-%M-%S).png"; grim -g "$(slurp)" "$f" && wl-copy --type image/png < "$f" && notify-send "ðŸ“¸ Screenshot Copied to Clipboard"'

# Fn keys
bind = , XF86MonBrightnessUp, exec, brightnessctl -q s +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl -q s 5%-
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind = , XF86Lock, exec, hyprlock
bind = , Print, exec, grim - | wl-copy
bind = , F12, exec, playerctl play-pause
bind = , F3, exec, playerctl next
bind = , F2, exec, playerctl previous

# Wallpaper configuration
exec = swaybg -i ~/Wallpaper-Bank/arthurfleck-joker.jpg -m fill
