# tmux configuration: ergonomic defaults, vim-like keys, mouse, status bar

# Set prefix to Ctrl-a (like GNU screen). Change to C-b if you prefer default.
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Improve history and indexing
set -g history-limit 10000
set -g base-index 1
setw -g pane-base-index 1

# Enable mouse support (selection, resizing, window switching)
set -g mouse on

# Use vi keys in copy mode
set -g mode-keys vi

# Easier pane navigation with vim-style keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Split panes with easy keys
bind | split-window -h
bind - split-window -v

# Resize panes with Alt+arrow (repeatable)
bind -r M-Left resize-pane -L 5
bind -r M-Right resize-pane -R 5
bind -r M-Up resize-pane -U 5
bind -r M-Down resize-pane -D 5

# Quickly reload config
bind r source-file ~/.tmux.conf \; display-message "tmux.conf reloaded"

# Show time including seconds with prefix+T
# Default time display omitted seconds; override to include them
bind T display-message -p "#{strftime:%H:%M:%S}"

# Toggle synchronize-panes (useful for running same command in every pane)
bind y set-window-option synchronize-panes \; display-message "synchronize-panes: #{?synchronize-panes,on,off}"

# Copy selection in copy-mode to tmux buffer (vi-style 'y').
# Optionally pipe tmux buffer to system clipboard by uncommenting the run-shell line
bind -T copy-mode-vi y send -X copy-selection-and-cancel
# Example clipboard integration (Linux/macOS): uncomment the following line
# run-shell "tmux save-buffer - | (command -v pbcopy >/dev/null && pbcopy || command -v xclip >/dev/null && xclip -selection clipboard -in) && tmux display-message 'Copied to clipboard'"

# Status bar -- compact and informative
set -g status on
set -g status-interval 5
set -g status-left-length 40
set -g status-right-length 120

# set -g status-bg colour236
# set -g status-fg colour248
# set -g message-bg colour235
# set -g message-fg colour166
#
# set -g window-status-format " #I:#W "
# set -g window-status-current-format " #[bold]#I:#W "
#
# set -g status-left "[#S] "
# set -g status-right "#(whoami)@#H | %Y-%m-%d %H:%M"
#
# # Make panes and windows a bit smarter on resize
# set -g aggressive-resize on
#
# # Misc: limit bell, improve status updates
# set -g visual-bell off
# set -g allow-rename off
#
# # Plugins (optional): recommended to install TPM (https://github.com/tmux-plugins/tpm)
# # Example plugin list for ~/.tmux.conf when using TPM:
# # set -g @plugin 'tmux-plugins/tpm'
# # set -g @plugin 'tmux-plugins/tmux-sensible'
# # set -g @plugin 'tmux-plugins/tmux-resurrect'
# # set -g @plugin 'tmux-plugins/tmux-continuum'
# # run '~/.tmux/plugins/tpm/tpm'
